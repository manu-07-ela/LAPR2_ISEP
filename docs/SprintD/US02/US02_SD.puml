@startuml
'https://plantuml.com/sequence-diagram

autonumber
actor "Client" as CL

participant ": UpdateDataUI" as UI
participant ": UpdateDataController" as CTRL
participant ": Company" as COMP
participant "authFacade : AuthFacade" as AUTH
participant "userSession : UserSession" as SESSION
participant "store : ClientStore" as STORE
participant "client : Client" as CLD
participant ":ClientMapper" as MAPPER
activate CL
CL -> UI : asks to update personal data
activate UI
UI -> CTRL : getUserSession()
activate CTRL
CTRL -> COMP : authFacade = getAuthFacade()
activate COMP
COMP->AUTH : userSession = getCurrentUserSession()
activate AUTH
AUTH-> SESSION : email = getEmail()
activate SESSION
deactivate SESSION
deactivate AUTH
CTRL->COMP : store = getClientStore()
deactivate COMP
CTRL->STORE : client = getClientByEmail()
activate STORE
deactivate STORE
CTRL->
deactivate CTRL

UI -> CL : show the personal data of the client
deactivate UI
CL -> UI : confirm the personal data
activate UI
UI --> CL : shows the list of attributes associated with a \nclient and asks which one he wants to update
deactivate UI
CL -> UI : select the desired attribute
activate UI
UI --> CL : show the field to update
deactivate UI
CL -> UI : type the new data
activate UI
UI -->CL : show the new data an ask for confirmation
deactivate UI
CL->UI: confirm data
activate UI
UI-->CL : show the operation success
deactivate UI


deactivate CL

@enduml