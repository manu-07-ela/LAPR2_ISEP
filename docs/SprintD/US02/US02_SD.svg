<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1287.75px" preserveAspectRatio="none" style="width:1662px;height:1287px;" version="1.1" viewBox="0 0 1662 1287" width="1662px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dk9aq6vuvwy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.0" dy="3.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="1135.3945" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="15.75" y="74.707"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="272.6367" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="91.4707"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="171.6094" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="386.8711"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="581.2441"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="626.7715"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="537.8027" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="672.2988"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="227.1094" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="475.5" y="114.2344"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="113.8184" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="475.5" y="409.6348"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="498.2754" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="475.5" y="695.0625"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="90.791" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="640.5" y="136.998"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="45.2637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="843" y="159.7617"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="989.25" y="182.5254"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1116.375" y="250.5527"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="68.291" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1116.375" y="432.3984"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="475.5117" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1116.375" y="717.8262"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="455.1621"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="759.6035"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="816.7441"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="873.8848"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="931.0254"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="988.166"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="1045.3066"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="1102.4473"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="1159.5879"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1490.25" y="295.8164"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="459.0117" style="stroke:#000000;stroke-width:1.5;" width="391.125" x="1063.125" y="729.0762"/><rect fill="#FFFFFF" height="57.1406" style="stroke:none;stroke-width:0.75;" width="391.125" x="1063.125" y="788.1035"/><rect fill="#FFFFFF" height="57.1406" style="stroke:none;stroke-width:0.75;" width="391.125" x="1063.125" y="845.2441"/><rect fill="#FFFFFF" height="57.1406" style="stroke:none;stroke-width:0.75;" width="391.125" x="1063.125" y="902.3848"/><rect fill="#FFFFFF" height="57.1406" style="stroke:none;stroke-width:0.75;" width="391.125" x="1063.125" y="959.5254"/><rect fill="#FFFFFF" height="57.1406" style="stroke:none;stroke-width:0.75;" width="391.125" x="1063.125" y="1016.666"/><rect fill="#FFFFFF" height="57.1406" style="stroke:none;stroke-width:0.75;" width="391.125" x="1063.125" y="1073.8066"/><rect fill="#FFFFFF" height="57.1406" style="stroke:none;stroke-width:0.75;" width="391.125" x="1063.125" y="1130.9473"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="19.5" x2="19.5" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="256.125" x2="256.125" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="478.875" x2="478.875" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="644.25" x2="644.25" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="846.375" x2="846.375" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="992.625" x2="992.625" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="1120.125" x2="1120.125" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="1409.25" x2="1409.25" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="1494" x2="1494" y1="67.207" y2="1223.6016"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="1597.5" x2="1597.5" y1="67.207" y2="1223.6016"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="27" x="3.75" y="64.8999">Client</text><ellipse cx="19.5" cy="11.25" fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" rx="6" ry="6" style="stroke:#A80036;stroke-width:1.5;"/><path d="M19.5,17.25 L19.5,37.5 M9.75,23.25 L29.25,23.25 M19.5,37.5 L9.75,48.75 M19.5,37.5 L29.25,48.75 " fill="none" filter="url(#f1dk9aq6vuvwy)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="27" x="3.75" y="1233.7515">Client</text><ellipse cx="19.5" cy="1243.5586" fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" rx="6" ry="6" style="stroke:#A80036;stroke-width:1.5;"/><path d="M19.5,1249.5586 L19.5,1269.8086 M9.75,1255.5586 L29.25,1255.5586 M19.5,1269.8086 L9.75,1281.0586 M19.5,1269.8086 L29.25,1281.0586 " fill="none" filter="url(#f1dk9aq6vuvwy)" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="81.75" x="214.125" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="71.25" x="219.375" y="55.8999">: UpdateDataUI</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="81.75" x="214.125" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="71.25" x="219.375" y="1239.0015">: UpdateDataUI</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="119.25" x="418.125" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="108.75" x="423.375" y="55.8999">: UpdateDataController</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="119.25" x="418.125" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="108.75" x="423.375" y="1239.0015">: UpdateDataController</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="61.5" x="612" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="51" x="617.25" y="55.8999">: Company</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="61.5" x="612" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="51" x="617.25" y="1239.0015">: Company</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="134.25" x="778.125" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="123.75" x="783.375" y="55.8999">authFacade : AuthFacade</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="134.25" x="778.125" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="123.75" x="783.375" y="1239.0015">authFacade : AuthFacade</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="137.25" x="922.875" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="126.75" x="928.125" y="55.8999">userSession : UserSession</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="137.25" x="922.875" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="126.75" x="928.125" y="1239.0015">userSession : UserSession</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="96" x="1070.625" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="85.5" x="1075.875" y="55.8999">store : ClientStore</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="96" x="1070.625" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="85.5" x="1075.875" y="1239.0015">store : ClientStore</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="71.25" x="1372.5" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="60.75" x="1377.75" y="55.8999">client : Client</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="71.25" x="1372.5" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="60.75" x="1377.75" y="1239.0015">client : Client</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="76.5" x="1454.25" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="66" x="1459.5" y="55.8999">:ClientMapper</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="76.5" x="1454.25" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="66" x="1459.5" y="1239.0015">:ClientMapper</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="110.25" x="1541.25" y="39.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="99.75" x="1546.5" y="55.8999">clientDto : ClientDTO</text><rect fill="#FEFECE" filter="url(#f1dk9aq6vuvwy)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="110.25" x="1541.25" y="1222.8516"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="99.75" x="1546.5" y="1239.0015">clientDto : ClientDTO</text><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="1135.3945" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="15.75" y="74.707"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="272.6367" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="91.4707"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="171.6094" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="386.8711"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="581.2441"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="626.7715"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="537.8027" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="252.75" y="672.2988"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="227.1094" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="475.5" y="114.2344"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="113.8184" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="475.5" y="409.6348"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="498.2754" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="475.5" y="695.0625"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="90.791" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="640.5" y="136.998"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="45.2637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="843" y="159.7617"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="989.25" y="182.5254"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1116.375" y="250.5527"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="68.291" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1116.375" y="432.3984"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="475.5117" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1116.375" y="717.8262"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="455.1621"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="759.6035"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="816.7441"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="873.8848"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="931.0254"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="988.166"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="1045.3066"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="1102.4473"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.5" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1405.875" y="1159.5879"/><rect fill="#FFFFFF" filter="url(#f1dk9aq6vuvwy)" height="22.7637" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="1490.25" y="295.8164"/><polygon fill="#A80036" points="243.75,88.4707,251.25,91.4707,243.75,94.4707,246.75,91.4707" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="23.25" x2="248.25" y1="91.4707" y2="91.4707"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="28.5" y="87.8284">1</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="126" x="36.75" y="87.8284">asks to update personal data</text><polygon fill="#A80036" points="466.5,111.2344,474,114.2344,466.5,117.2344,469.5,114.2344" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="260.25" x2="471" y1="114.2344" y2="114.2344"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="265.5" y="110.592">2</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="75" x="273.75" y="110.592">getUserSession()</text><polygon fill="#A80036" points="631.5,133.998,639,136.998,631.5,139.998,634.5,136.998" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="483" x2="636" y1="136.998" y2="136.998"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="488.25" y="133.3557">3</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="135" x="496.5" y="133.3557">authFacade = getAuthFacade()</text><polygon fill="#A80036" points="834,156.7617,841.5,159.7617,834,162.7617,837,159.7617" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="648" x2="838.5" y1="159.7617" y2="159.7617"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="653.25" y="156.1194">4</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="172.5" x="661.5" y="156.1194">userSession = getCurrentUserSession()</text><polygon fill="#A80036" points="980.25,179.5254,987.75,182.5254,980.25,185.5254,983.25,182.5254" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="850.5" x2="984.75" y1="182.5254" y2="182.5254"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="855.75" y="178.8831">5</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="79.5" x="864" y="178.8831">email = getEmail()</text><polygon fill="#A80036" points="635.25,224.7891,642.75,227.7891,635.25,230.7891,638.25,227.7891" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="483" x2="639.75" y1="227.7891" y2="227.7891"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="488.25" y="224.1467">6</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="101.25" x="496.5" y="224.1467">store = getClientStore()</text><polygon fill="#A80036" points="1107.375,247.5527,1114.875,250.5527,1107.375,253.5527,1110.375,250.5527" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="483" x2="1111.875" y1="250.5527" y2="250.5527"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="488.25" y="246.9104">7</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="116.25" x="496.5" y="246.9104">client = getClientByEmail()</text><polygon fill="#A80036" points="1481.25,292.8164,1488.75,295.8164,1481.25,298.8164,1484.25,295.8164" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="483" x2="1485.75" y1="295.8164" y2="295.8164"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="488.25" y="292.1741">8</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="102.75" x="496.5" y="292.1741">clientDto = toDto(client)</text><polygon fill="#A80036" points="491.25,315.5801,483.75,318.5801,491.25,321.5801,488.25,318.5801" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="486.75" x2="1493.25" y1="318.5801" y2="318.5801"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="5.25" x="495.75" y="314.9377">9</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="38.25" x="504" y="314.9377">clientDto</text><polygon fill="#A80036" points="268.5,338.3438,261,341.3438,268.5,344.3438,265.5,341.3438" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="264" x2="478.5" y1="341.3438" y2="341.3438"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="273" y="337.7014">10</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="38.25" x="286.5" y="337.7014">clientDto</text><polygon fill="#A80036" points="31.5,361.1074,24,364.1074,31.5,367.1074,28.5,364.1074" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="27" x2="255.75" y1="364.1074" y2="364.1074"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="36" y="360.4651">11</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="153.75" x="49.5" y="360.4651">show the personal data of the client</text><polygon fill="#A80036" points="243.75,383.8711,251.25,386.8711,243.75,389.8711,246.75,386.8711" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="23.25" x2="248.25" y1="386.8711" y2="386.8711"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="28.5" y="383.2288">12</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="109.5" x="42" y="383.2288">confirm the personal data</text><polygon fill="#A80036" points="466.5,406.6348,474,409.6348,466.5,412.6348,469.5,409.6348" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="260.25" x2="471" y1="409.6348" y2="409.6348"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="265.5" y="405.9924">13</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="187.5" x="279" y="405.9924">getListOfAttributesAssociatedWithAClient()</text><polygon fill="#A80036" points="1107.375,429.3984,1114.875,432.3984,1107.375,435.3984,1110.375,432.3984" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="483" x2="1111.875" y1="432.3984" y2="432.3984"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="488.25" y="428.7561">14</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="187.5" x="501.75" y="428.7561">getListOfAttributesAssociatedWithAClient()</text><polygon fill="#A80036" points="1396.875,452.1621,1404.375,455.1621,1396.875,458.1621,1399.875,455.1621" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="455.1621" y2="455.1621"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="451.5198">15</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="254.25" x="1142.625" y="451.5198">listAttributes = getListOfAttributesAssociatedWithAClient()</text><polygon fill="#A80036" points="1132.125,474.9258,1124.625,477.9258,1132.125,480.9258,1129.125,477.9258" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1127.625" x2="1408.875" y1="477.9258" y2="477.9258"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1136.625" y="474.2834">16</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="54.75" x="1150.125" y="474.2834">listAttributes</text><polygon fill="#A80036" points="491.25,497.6895,483.75,500.6895,491.25,503.6895,488.25,500.6895" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="486.75" x2="1119.375" y1="500.6895" y2="500.6895"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="495.75" y="497.0471">17</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="54.75" x="509.25" y="497.0471">listAttributes</text><polygon fill="#A80036" points="268.5,520.4531,261,523.4531,268.5,526.4531,265.5,523.4531" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="264" x2="478.5" y1="523.4531" y2="523.4531"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="273" y="519.8108">18</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="54.75" x="286.5" y="519.8108">listAttributes</text><polygon fill="#A80036" points="31.5,555.4805,24,558.4805,31.5,561.4805,28.5,558.4805" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="27" x2="255.75" y1="558.4805" y2="558.4805"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="36" y="548.7063">19</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="192.75" x="49.5" y="542.5745">shows the list of attributes associated with a</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="198" x="49.5" y="554.8381">client and asks which one he wants to update</text><polygon fill="#A80036" points="243.75,578.2441,251.25,581.2441,243.75,584.2441,246.75,581.2441" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="23.25" x2="248.25" y1="581.2441" y2="581.2441"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="28.5" y="577.6018">20</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="115.5" x="42" y="577.6018">select the desired attribute</text><polygon fill="#A80036" points="31.5,601.0078,24,604.0078,31.5,607.0078,28.5,604.0078" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="27" x2="255.75" y1="604.0078" y2="604.0078"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="36" y="600.3655">21</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="102.75" x="49.5" y="600.3655">show the field to update</text><polygon fill="#A80036" points="243.75,623.7715,251.25,626.7715,243.75,629.7715,246.75,626.7715" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="23.25" x2="248.25" y1="626.7715" y2="626.7715"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="28.5" y="623.1292">22</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="77.25" x="42" y="623.1292">type the new data</text><polygon fill="#A80036" points="31.5,646.5352,24,649.5352,31.5,652.5352,28.5,649.5352" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="27" x2="255.75" y1="649.5352" y2="649.5352"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="36" y="645.8928">23</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="182.25" x="49.5" y="645.8928">show the new data an ask for confirmation</text><polygon fill="#A80036" points="243.75,669.2988,251.25,672.2988,243.75,675.2988,246.75,672.2988" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="23.25" x2="248.25" y1="672.2988" y2="672.2988"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="28.5" y="668.6565">24</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="53.25" x="42" y="668.6565">confirm data</text><polygon fill="#A80036" points="466.5,692.0625,474,695.0625,466.5,698.0625,469.5,695.0625" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="260.25" x2="471" y1="695.0625" y2="695.0625"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="265.5" y="691.4202">25</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="107.25" x="279" y="691.4202">updateAttribute(attribute)</text><polygon fill="#A80036" points="1107.375,714.8262,1114.875,717.8262,1107.375,720.8262,1110.375,717.8262" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="483" x2="1111.875" y1="717.8262" y2="717.8262"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="488.25" y="714.1838">26</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="107.25" x="501.75" y="714.1838">updateAttribute(attribute)</text><path d="M1063.125,729.0762 L1108.875,729.0762 L1108.875,735.0762 L1101.375,742.5762 L1063.125,742.5762 L1063.125,729.0762 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.75;"/><rect fill="none" height="459.0117" style="stroke:#000000;stroke-width:1.5;" width="391.125" x="1063.125" y="729.0762"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="12" x="1074.375" y="739.9475">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="78" x="1120.125" y="739.1404">[attribute == name]</text><polygon fill="#A80036" points="1396.875,756.6035,1404.375,759.6035,1396.875,762.6035,1399.875,759.6035" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="759.6035" y2="759.6035"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="755.9612">27</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="69" x="1142.625" y="755.9612">setName(name)</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1063.125" x2="1454.25" y1="788.8535" y2="788.8535"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="134.25" x="1066.875" y="797.4177">[attribute == citizenCardNumber]</text><polygon fill="#A80036" points="1396.875,813.7441,1404.375,816.7441,1396.875,819.7441,1399.875,816.7441" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="816.7441" y2="816.7441"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="813.1018">28</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="186" x="1142.625" y="813.1018">setCitizenCardNumber(citizenCardNumber)</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1063.125" x2="1454.25" y1="845.9941" y2="845.9941"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="92.25" x="1066.875" y="854.5583">[attribute == nhsCode]</text><polygon fill="#A80036" points="1396.875,870.8848,1404.375,873.8848,1396.875,876.8848,1399.875,873.8848" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="873.8848" y2="873.8848"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="870.2424">29</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="97.5" x="1142.625" y="870.2424">setNhsCode(nhsCode)</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1063.125" x2="1454.25" y1="903.1348" y2="903.1348"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="101.25" x="1066.875" y="911.699">[attribute == dateOfBirth]</text><polygon fill="#A80036" points="1396.875,928.0254,1404.375,931.0254,1396.875,934.0254,1399.875,931.0254" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="931.0254" y2="931.0254"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="927.3831">30</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="118.5" x="1142.625" y="927.3831">setDateOfBirth(dateOfBirth)</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1063.125" x2="1454.25" y1="960.2754" y2="960.2754"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="69.75" x="1066.875" y="968.8396">[attribute == sex]</text><polygon fill="#A80036" points="1396.875,985.166,1404.375,988.166,1396.875,991.166,1399.875,988.166" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="988.166" y2="988.166"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="984.5237">31</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="52.5" x="1142.625" y="984.5237">setSex(sex)</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1063.125" x2="1454.25" y1="1017.416" y2="1017.416"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="65.25" x="1066.875" y="1025.9802">[attribute == tin]</text><polygon fill="#A80036" points="1396.875,1042.3066,1404.375,1045.3066,1396.875,1048.3066,1399.875,1045.3066" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="1045.3066" y2="1045.3066"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="1041.6643">32</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="72.75" x="1142.625" y="1041.6643">setDateOfTin(tin)</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1063.125" x2="1454.25" y1="1074.5566" y2="1074.5566"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1066.875" y="1083.1208">[attribute == phoneNumber]</text><polygon fill="#A80036" points="1396.875,1099.4473,1404.375,1102.4473,1396.875,1105.4473,1399.875,1102.4473" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="1102.4473" y2="1102.4473"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="1098.8049">33</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="141" x="1142.625" y="1098.8049">setPhoneNumber(phoneNumber)</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="1063.125" x2="1454.25" y1="1131.6973" y2="1131.6973"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacing" textLength="77.25" x="1066.875" y="1140.2615">[attribute == email]</text><polygon fill="#A80036" points="1396.875,1156.5879,1404.375,1159.5879,1396.875,1162.5879,1399.875,1159.5879" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="1123.875" x2="1401.375" y1="1159.5879" y2="1159.5879"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1129.125" y="1155.9456">34</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="67.5" x="1142.625" y="1155.9456">setEmail(email)</text><polygon fill="#A80036" points="27.75,1207.1016,20.25,1210.1016,27.75,1213.1016,24.75,1210.1016" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="23.25" x2="255.75" y1="1210.1016" y2="1210.1016"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="32.25" y="1206.4592">35</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="121.5" x="45.75" y="1206.4592">show the operation success</text><!--MD5=[50fa1f85f3b4b57c0f719ce1536dce2a]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
actor "Client" as CL

participant ": UpdateDataUI" as UI
participant ": UpdateDataController" as CTRL
participant ": Company" as COMP
participant "authFacade : AuthFacade" as AUTH
participant "userSession : UserSession" as SESSION
participant "store : ClientStore" as STORE
participant "client : Client" as CLIENT
participant ":ClientMapper" as MAPPER
participant "clientDto : ClientDTO" as DTO
activate CL
CL -> UI : asks to update personal data
activate UI
UI -> CTRL : getUserSession()
activate CTRL
CTRL -> COMP : authFacade = getAuthFacade()
activate COMP
COMP->AUTH : userSession = getCurrentUserSession()
activate AUTH
AUTH-> SESSION : email = getEmail()
activate SESSION
deactivate SESSION
deactivate AUTH
CTRL->COMP : store = getClientStore()
deactivate COMP
CTRL->STORE : client = getClientByEmail()
activate STORE
deactivate STORE
CTRL-> MAPPER : clientDto = toDto(client)
activate MAPPER
MAPPER- ->CTRL : clientDto
deactivate MAPPER
CTRL- ->UI : clientDto
deactivate CTRL


UI -> CL : show the personal data of the client
deactivate UI
CL -> UI : confirm the personal data
activate UI
UI->CTRL : getListOfAttributesAssociatedWithAClient()
activate CTRL
CTRL->STORE : getListOfAttributesAssociatedWithAClient()
activate STORE
STORE->CLIENT : listAttributes = getListOfAttributesAssociatedWithAClient()
activate CLIENT
CLIENT- ->STORE : listAttributes
deactivate CLIENT
STORE- ->CTRL : listAttributes
deactivate STORE
CTRL- ->UI : listAttributes
deactivate CTRL

UI - -> CL : shows the list of attributes associated with a \nclient and asks which one he wants to update
deactivate UI
CL -> UI : select the desired attribute
activate UI
UI - -> CL : show the field to update
deactivate UI
CL -> UI : type the new data
activate UI
UI - ->CL : show the new data an ask for confirmation
deactivate UI
CL->UI: confirm data
activate UI
UI->CTRL : updateAttribute(attribute)
activate CTRL
CTRL->STORE : updateAttribute(attribute)
activate STORE
alt attribute == name
STORE->CLIENT : setName(name)
activate CLIENT
deactivate CLIENT
else attribute == citizenCardNumber
STORE-> CLIENT : setCitizenCardNumber(citizenCardNumber)
activate CLIENT
deactivate CLIENT
else attribute == nhsCode
STORE->CLIENT : setNhsCode(nhsCode)
activate CLIENT
deactivate CLIENT
else attribute == dateOfBirth
STORE->CLIENT : setDateOfBirth(dateOfBirth)
activate CLIENT
deactivate CLIENT
else attribute == sex
STORE->CLIENT : setSex(sex)
activate CLIENT
deactivate CLIENT
else attribute == tin
STORE->CLIENT : setDateOfTin(tin)
activate CLIENT
deactivate CLIENT
else attribute == phoneNumber
STORE->CLIENT : setPhoneNumber(phoneNumber)
activate CLIENT
deactivate CLIENT
else attribute == email 
STORE->CLIENT : setEmail(email)
activate CLIENT
deactivate CLIENT
end alt
deactivate STORE
deactivate CTRL
UI- ->CL : show the operation success
deactivate UI


deactivate CL

@enduml

@startuml

autonumber
actor "Client" as CL

participant ": UpdateDataUI" as UI
participant ": UpdateDataController" as CTRL
participant ": Company" as COMP
participant "authFacade : AuthFacade" as AUTH
participant "userSession : UserSession" as SESSION
participant "store : ClientStore" as STORE
participant "client : Client" as CLIENT
participant ":ClientMapper" as MAPPER
participant "clientDto : ClientDTO" as DTO
activate CL
CL -> UI : asks to update personal data
activate UI
UI -> CTRL : getUserSession()
activate CTRL
CTRL -> COMP : authFacade = getAuthFacade()
activate COMP
COMP->AUTH : userSession = getCurrentUserSession()
activate AUTH
AUTH-> SESSION : email = getEmail()
activate SESSION
deactivate SESSION
deactivate AUTH
CTRL->COMP : store = getClientStore()
deactivate COMP
CTRL->STORE : client = getClientByEmail()
activate STORE
deactivate STORE
CTRL-> MAPPER : clientDto = toDto(client)
activate MAPPER
MAPPER- ->CTRL : clientDto
deactivate MAPPER
CTRL- ->UI : clientDto
deactivate CTRL


UI -> CL : show the personal data of the client
deactivate UI
CL -> UI : confirm the personal data
activate UI
UI->CTRL : getListOfAttributesAssociatedWithAClient()
activate CTRL
CTRL->STORE : getListOfAttributesAssociatedWithAClient()
activate STORE
STORE->CLIENT : listAttributes = getListOfAttributesAssociatedWithAClient()
activate CLIENT
CLIENT- ->STORE : listAttributes
deactivate CLIENT
STORE- ->CTRL : listAttributes
deactivate STORE
CTRL- ->UI : listAttributes
deactivate CTRL

UI - -> CL : shows the list of attributes associated with a \nclient and asks which one he wants to update
deactivate UI
CL -> UI : select the desired attribute
activate UI
UI - -> CL : show the field to update
deactivate UI
CL -> UI : type the new data
activate UI
UI - ->CL : show the new data an ask for confirmation
deactivate UI
CL->UI: confirm data
activate UI
UI->CTRL : updateAttribute(attribute)
activate CTRL
CTRL->STORE : updateAttribute(attribute)
activate STORE
alt attribute == name
STORE->CLIENT : setName(name)
activate CLIENT
deactivate CLIENT
else attribute == citizenCardNumber
STORE-> CLIENT : setCitizenCardNumber(citizenCardNumber)
activate CLIENT
deactivate CLIENT
else attribute == nhsCode
STORE->CLIENT : setNhsCode(nhsCode)
activate CLIENT
deactivate CLIENT
else attribute == dateOfBirth
STORE->CLIENT : setDateOfBirth(dateOfBirth)
activate CLIENT
deactivate CLIENT
else attribute == sex
STORE->CLIENT : setSex(sex)
activate CLIENT
deactivate CLIENT
else attribute == tin
STORE->CLIENT : setDateOfTin(tin)
activate CLIENT
deactivate CLIENT
else attribute == phoneNumber
STORE->CLIENT : setPhoneNumber(phoneNumber)
activate CLIENT
deactivate CLIENT
else attribute == email 
STORE->CLIENT : setEmail(email)
activate CLIENT
deactivate CLIENT
end alt
deactivate STORE
deactivate CTRL
UI- ->CL : show the operation success
deactivate UI


deactivate CL

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>