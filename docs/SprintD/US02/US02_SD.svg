<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1642px" preserveAspectRatio="none" style="width:2025px;height:1642px;" version="1.1" viewBox="0 0 2025 1642" width="2025px" zoomAndPan="magnify"><defs><filter height="300%" id="f14g0of5a7b3fv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="1439.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="46" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="388.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="541.1797"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="937.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="601.8828"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="302.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="657.5859"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="885.8828"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="1114.1797"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="1342.4766"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="814" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1084" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1279" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="334.0703"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="687.9375"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="916.2344"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="1144.5313"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="1372.8281"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="718.2891"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="946.5859"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="1174.8828"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="1403.1797"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1796" y="394.4219"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="1069.4609" style="stroke:#000000;stroke-width:2.0;" width="1748" x="10" y="470.125"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="915.7031" style="stroke:#000000;stroke-width:2.0;" width="1728" x="20" y="616.8828"/><rect fill="#FFFFFF" height="228.2969" style="stroke:none;stroke-width:1.0;" width="1728" x="20" y="847.6953"/><rect fill="#FFFFFF" height="228.2969" style="stroke:none;stroke-width:1.0;" width="1728" x="20" y="1075.9922"/><rect fill="#FFFFFF" height="228.2969" style="stroke:none;stroke-width:1.0;" width="1728" x="20" y="1304.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="307.5" x2="307.5" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="598.5" x2="598.5" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="819" x2="819" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1088.5" x2="1088.5" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1283.5" x2="1283.5" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1453.5" x2="1453.5" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1688" x2="1688" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1801" x2="1801" y1="89.6094" y2="1556.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1939" x2="1939" y1="89.6094" y2="1556.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="30" y="86.5332">Client</text><ellipse cx="51" cy="15" fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51,23 L51,50 M38,31 L64,31 M51,50 L38,65 M51,50 L64,65 " fill="none" filter="url(#f14g0of5a7b3fv)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="30" y="1570.1191">Client</text><ellipse cx="51" cy="1583.1953" fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51,1591.1953 L51,1618.1953 M38,1599.1953 L64,1599.1953 M51,1618.1953 L38,1633.1953 M51,1618.1953 L64,1633.1953 " fill="none" filter="url(#f14g0of5a7b3fv)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="109" x="251.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="258.5" y="74.5332">: UpdateDataUI</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="109" x="251.5" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="258.5" y="1577.1191">: UpdateDataUI</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="517.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="524.5" y="74.5332">: UpdateDataController</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="517.5" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="524.5" y="1577.1191">: UpdateDataController</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="776" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="783" y="74.5332">: Company</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="776" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="783" y="1577.1191">: Company</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="179" x="997.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1004.5" y="74.5332">authFacade : AuthFacade</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="179" x="997.5" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1004.5" y="1577.1191">authFacade : AuthFacade</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="183" x="1190.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1197.5" y="74.5332">userSession : UserSession</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="183" x="1190.5" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1197.5" y="1577.1191">userSession : UserSession</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="128" x="1387.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1394.5" y="74.5332">store : ClientStore</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="128" x="1387.5" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1394.5" y="1577.1191">store : ClientStore</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1639" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1646" y="74.5332">client : Client</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1639" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1646" y="1577.1191">client : Client</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="102" x="1748" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1755" y="74.5332">:ClientMapper</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="102" x="1748" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1755" y="1577.1191">:ClientMapper</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="147" x="1864" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1871" y="74.5332">clientDto : ClientDTO</text><rect fill="#FEFECE" filter="url(#f14g0of5a7b3fv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="147" x="1864" y="1555.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1871" y="1577.1191">clientDto : ClientDTO</text><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="1439.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="46" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="388.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="541.1797"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="937.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="601.8828"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="302.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="657.5859"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="885.8828"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="1114.1797"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="594" y="1342.4766"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="814" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1084" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1279" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="334.0703"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="687.9375"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="916.2344"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="1144.5313"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1448.5" y="1372.8281"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="718.2891"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="946.5859"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="1174.8828"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="1403.1797"/><rect fill="#FFFFFF" filter="url(#f14g0of5a7b3fv)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1796" y="394.4219"/><polygon fill="#A80036" points="291,117.9609,301,121.9609,291,125.9609,295,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56" x2="297" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="74" y="117.1045">asks to update personal data</text><polygon fill="#A80036" points="582,148.3125,592,152.3125,582,156.3125,586,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="588" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="320" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="331" y="147.4561">getUserSession()</text><polygon fill="#A80036" points="802,178.6641,812,182.6641,802,186.6641,806,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="808" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="611" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="622" y="177.8076">authFacade = getAuthFacade()</text><polygon fill="#A80036" points="1072,209.0156,1082,213.0156,1072,217.0156,1076,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="824" x2="1078" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="831" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="842" y="208.1592">userSession = getCurrentUserSession()</text><polygon fill="#A80036" points="1267,239.3672,1277,243.3672,1267,247.3672,1271,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1094" x2="1273" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1101" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1112" y="238.5107">email = getEmail()</text><polygon fill="#A80036" points="807,299.7188,817,303.7188,807,307.7188,811,303.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="813" y1="303.7188" y2="303.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="611" y="298.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="622" y="298.8623">store = getClientStore()</text><polygon fill="#A80036" points="1436.5,330.0703,1446.5,334.0703,1436.5,338.0703,1440.5,334.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="1442.5" y1="334.0703" y2="334.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="611" y="329.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="622" y="329.2139">client = getClientByEmail()</text><polygon fill="#A80036" points="1784,390.4219,1794,394.4219,1784,398.4219,1788,394.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="1790" y1="394.4219" y2="394.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="611" y="389.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="622" y="389.5654">clientDto = toDto(client)</text><polygon fill="#A80036" points="615,420.7734,605,424.7734,615,428.7734,611,424.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="609" x2="1800" y1="424.7734" y2="424.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="621" y="419.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="632" y="419.917">clientDto</text><polygon fill="#A80036" points="324,451.125,314,455.125,324,459.125,320,455.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="598" y1="455.125" y2="455.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="330" y="450.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="348" y="450.2686">clientDto</text><path d="M10,470.125 L83,470.125 L83,478.125 L73,488.125 L10,488.125 L10,470.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1069.4609" style="stroke:#000000;stroke-width:2.0;" width="1748" x="10" y="470.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="484.6201">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="230" x="98" y="483.5439">[while the client wants to update his data]</text><polygon fill="#A80036" points="67,506.8281,57,510.8281,67,514.8281,63,510.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="307" y1="510.8281" y2="510.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="505.9717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="91" y="505.9717">show the personal data of the client</text><polygon fill="#A80036" points="291,537.1797,301,541.1797,291,545.1797,295,541.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56" x2="297" y1="541.1797" y2="541.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="536.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="81" y="536.3232">type the new data</text><polygon fill="#A80036" points="67,567.5313,57,571.5313,67,575.5313,63,571.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="307" y1="571.5313" y2="571.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="566.6748">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="91" y="566.6748">ask for confirmation</text><polygon fill="#A80036" points="291,597.8828,301,601.8828,291,605.8828,295,601.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56" x2="297" y1="601.8828" y2="601.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="597.0264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="81" y="597.0264">confirm data</text><path d="M20,616.8828 L81,616.8828 L81,624.8828 L71,634.8828 L20,634.8828 L20,616.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="915.7031" style="stroke:#000000;stroke-width:2.0;" width="1728" x="20" y="616.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="631.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="96" y="630.3018">[attribute == name]</text><polygon fill="#A80036" points="582,653.5859,592,657.5859,582,661.5859,586,657.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="588" y1="657.5859" y2="657.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="320" y="652.7295">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="338" y="652.7295">updateName(client,name)</text><polygon fill="#A80036" points="1436.5,683.9375,1446.5,687.9375,1436.5,691.9375,1440.5,687.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="1442.5" y1="687.9375" y2="687.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="611" y="683.0811">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="629" y="683.0811">updateName(client,name)</text><polygon fill="#A80036" points="1671.5,714.2891,1681.5,718.2891,1671.5,722.2891,1675.5,718.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1458.5" x2="1677.5" y1="718.2891" y2="718.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1465.5" y="713.4326">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1483.5" y="713.4326">setName(name)</text><polygon fill="#A80036" points="1469.5,744.6406,1459.5,748.6406,1469.5,752.6406,1465.5,748.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1463.5" x2="1687.5" y1="748.6406" y2="748.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1475.5" y="743.7842">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1493.5" y="743.7842">informs operation success</text><polygon fill="#A80036" points="615,774.9922,605,778.9922,615,782.9922,611,778.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="609" x2="1452.5" y1="778.9922" y2="778.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="621" y="774.1357">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="639" y="774.1357">informs operation success</text><polygon fill="#A80036" points="324,805.3438,314,809.3438,324,813.3438,320,809.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="598" y1="809.3438" y2="809.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="330" y="804.4873">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="348" y="804.4873">show the operation success</text><polygon fill="#A80036" points="67,835.6953,57,839.6953,67,843.6953,63,839.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="302" y1="839.6953" y2="839.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="834.8389">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="91" y="834.8389">show the operation success</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1748" y1="848.6953" y2="848.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119" x="25" y="860.1143">[attribute == address]</text><polygon fill="#A80036" points="582,881.8828,592,885.8828,582,889.8828,586,885.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="588" y1="885.8828" y2="885.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="320" y="881.0264">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="338" y="881.0264">updateAddress(client,address)</text><polygon fill="#A80036" points="1436.5,912.2344,1446.5,916.2344,1436.5,920.2344,1440.5,916.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="1442.5" y1="916.2344" y2="916.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="611" y="911.3779">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="629" y="911.3779">updateAddress(client,address)</text><polygon fill="#A80036" points="1671.5,942.5859,1681.5,946.5859,1671.5,950.5859,1675.5,946.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1458.5" x2="1677.5" y1="946.5859" y2="946.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1465.5" y="941.7295">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1483.5" y="941.7295">setAddress(address)</text><polygon fill="#A80036" points="1469.5,972.9375,1459.5,976.9375,1469.5,980.9375,1465.5,976.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1463.5" x2="1687.5" y1="976.9375" y2="976.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1475.5" y="972.0811">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1493.5" y="972.0811">informs operation success</text><polygon fill="#A80036" points="615,1003.2891,605,1007.2891,615,1011.2891,611,1007.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="609" x2="1452.5" y1="1007.2891" y2="1007.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="621" y="1002.4326">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="639" y="1002.4326">informs operation success</text><polygon fill="#A80036" points="324,1033.6406,314,1037.6406,324,1041.6406,320,1037.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="598" y1="1037.6406" y2="1037.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="330" y="1032.7842">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="348" y="1032.7842">show the operation success</text><polygon fill="#A80036" points="67,1063.9922,57,1067.9922,67,1071.9922,63,1067.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="302" y1="1067.9922" y2="1067.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="1063.1357">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="91" y="1063.1357">show the operation success</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1748" y1="1076.9922" y2="1076.9922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="93" x="25" y="1088.4111">[attribute == sex]</text><polygon fill="#A80036" points="582,1110.1797,592,1114.1797,582,1118.1797,586,1114.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="588" y1="1114.1797" y2="1114.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="320" y="1109.3232">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="338" y="1109.3232">updateSex(client,sex)</text><polygon fill="#A80036" points="1436.5,1140.5313,1446.5,1144.5313,1436.5,1148.5313,1440.5,1144.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="1442.5" y1="1144.5313" y2="1144.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="611" y="1139.6748">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="629" y="1139.6748">updateSex(client,sex)</text><polygon fill="#A80036" points="1671.5,1170.8828,1681.5,1174.8828,1671.5,1178.8828,1675.5,1174.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1458.5" x2="1677.5" y1="1174.8828" y2="1174.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1465.5" y="1170.0264">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1483.5" y="1170.0264">setSex(sex)</text><polygon fill="#A80036" points="1469.5,1201.2344,1459.5,1205.2344,1469.5,1209.2344,1465.5,1205.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1463.5" x2="1687.5" y1="1205.2344" y2="1205.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1475.5" y="1200.3779">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1493.5" y="1200.3779">informs operation success</text><polygon fill="#A80036" points="615,1231.5859,605,1235.5859,615,1239.5859,611,1235.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="609" x2="1452.5" y1="1235.5859" y2="1235.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="621" y="1230.7295">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="639" y="1230.7295">informs operation success</text><polygon fill="#A80036" points="324,1261.9375,314,1265.9375,324,1269.9375,320,1265.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="598" y1="1265.9375" y2="1265.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="330" y="1261.0811">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="348" y="1261.0811">show the operation success</text><polygon fill="#A80036" points="67,1292.2891,57,1296.2891,67,1300.2891,63,1296.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="302" y1="1296.2891" y2="1296.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="1291.4326">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="91" y="1291.4326">show the operation success</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1748" y1="1305.2891" y2="1305.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152" x="25" y="1316.708">[attribute == phoneNumber]</text><polygon fill="#A80036" points="582,1338.4766,592,1342.4766,582,1346.4766,586,1342.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="588" y1="1342.4766" y2="1342.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="320" y="1337.6201">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="338" y="1337.6201">updatePhoneNumber(client,phoneNumber)</text><polygon fill="#A80036" points="1436.5,1368.8281,1446.5,1372.8281,1436.5,1376.8281,1440.5,1372.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="604" x2="1442.5" y1="1372.8281" y2="1372.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="611" y="1367.9717">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="629" y="1367.9717">updatePhoneNumber(client,phoneNumber)</text><polygon fill="#A80036" points="1671.5,1399.1797,1681.5,1403.1797,1671.5,1407.1797,1675.5,1403.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1458.5" x2="1677.5" y1="1403.1797" y2="1403.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1465.5" y="1398.3232">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="1483.5" y="1398.3232">setPhoneNumber(phoneNumber)</text><polygon fill="#A80036" points="1469.5,1429.5313,1459.5,1433.5313,1469.5,1437.5313,1465.5,1433.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1463.5" x2="1687.5" y1="1433.5313" y2="1433.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1475.5" y="1428.6748">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1493.5" y="1428.6748">informs operation success</text><polygon fill="#A80036" points="615,1459.8828,605,1463.8828,615,1467.8828,611,1463.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="609" x2="1452.5" y1="1463.8828" y2="1463.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="621" y="1459.0264">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="639" y="1459.0264">informs operation success</text><polygon fill="#A80036" points="324,1490.2344,314,1494.2344,324,1498.2344,320,1494.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="598" y1="1494.2344" y2="1494.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="330" y="1489.3779">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="348" y="1489.3779">show the operation success</text><polygon fill="#A80036" points="67,1520.5859,57,1524.5859,67,1528.5859,63,1524.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="302" y1="1524.5859" y2="1524.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="1519.7295">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="91" y="1519.7295">show the operation success</text><!--MD5=[accc17b949943e6e420a2072dec7ce2c]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
actor "Client" as CL

participant ": UpdateDataUI" as UI
participant ": UpdateDataController" as CTRL
participant ": Company" as COMP
participant "authFacade : AuthFacade" as AUTH
participant "userSession : UserSession" as SESSION
participant "store : ClientStore" as STORE
participant "client : Client" as CLIENT
participant ":ClientMapper" as MAPPER
participant "clientDto : ClientDTO" as DTO
activate CL
CL -> UI : asks to update personal data
activate UI
UI -> CTRL : getUserSession()
activate CTRL
CTRL -> COMP : authFacade = getAuthFacade()
activate COMP
COMP->AUTH : userSession = getCurrentUserSession()
activate AUTH
AUTH-> SESSION : email = getEmail()
activate SESSION
deactivate SESSION
deactivate AUTH
CTRL->COMP : store = getClientStore()
deactivate COMP
CTRL->STORE : client = getClientByEmail()
activate STORE
deactivate STORE
CTRL-> MAPPER : clientDto = toDto(client)
activate MAPPER
MAPPER- ->CTRL : clientDto
deactivate MAPPER
CTRL- ->UI : clientDto
deactivate CTRL

loop while the client wants to update his data
UI -> CL : show the personal data of the client
deactivate UI
CL -> UI : type the new data
activate UI
UI - ->CL : ask for confirmation
deactivate UI
CL->UI: confirm data
activate UI
alt attribute == name
UI-> CTRL : updateName(client,name)
activate CTRL
CTRL -> STORE : updateName(client,name)
activate STORE
STORE -> CLIENT : setName(name)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
else attribute == address
UI-> CTRL : updateAddress(client,address)
activate CTRL
CTRL -> STORE : updateAddress(client,address)
activate STORE
STORE -> CLIENT : setAddress(address)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
else attribute == sex
UI-> CTRL : updateSex(client,sex)
activate CTRL
CTRL -> STORE : updateSex(client,sex)
activate STORE
STORE -> CLIENT : setSex(sex)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
else attribute == phoneNumber
UI-> CTRL : updatePhoneNumber(client,phoneNumber)
activate CTRL
CTRL -> STORE : updatePhoneNumber(client,phoneNumber)
activate STORE
STORE -> CLIENT : setPhoneNumber(phoneNumber)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
end alt
deactivate UI
deactivate CL
end

@enduml

@startuml

autonumber
actor "Client" as CL

participant ": UpdateDataUI" as UI
participant ": UpdateDataController" as CTRL
participant ": Company" as COMP
participant "authFacade : AuthFacade" as AUTH
participant "userSession : UserSession" as SESSION
participant "store : ClientStore" as STORE
participant "client : Client" as CLIENT
participant ":ClientMapper" as MAPPER
participant "clientDto : ClientDTO" as DTO
activate CL
CL -> UI : asks to update personal data
activate UI
UI -> CTRL : getUserSession()
activate CTRL
CTRL -> COMP : authFacade = getAuthFacade()
activate COMP
COMP->AUTH : userSession = getCurrentUserSession()
activate AUTH
AUTH-> SESSION : email = getEmail()
activate SESSION
deactivate SESSION
deactivate AUTH
CTRL->COMP : store = getClientStore()
deactivate COMP
CTRL->STORE : client = getClientByEmail()
activate STORE
deactivate STORE
CTRL-> MAPPER : clientDto = toDto(client)
activate MAPPER
MAPPER- ->CTRL : clientDto
deactivate MAPPER
CTRL- ->UI : clientDto
deactivate CTRL

loop while the client wants to update his data
UI -> CL : show the personal data of the client
deactivate UI
CL -> UI : type the new data
activate UI
UI - ->CL : ask for confirmation
deactivate UI
CL->UI: confirm data
activate UI
alt attribute == name
UI-> CTRL : updateName(client,name)
activate CTRL
CTRL -> STORE : updateName(client,name)
activate STORE
STORE -> CLIENT : setName(name)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
else attribute == address
UI-> CTRL : updateAddress(client,address)
activate CTRL
CTRL -> STORE : updateAddress(client,address)
activate STORE
STORE -> CLIENT : setAddress(address)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
else attribute == sex
UI-> CTRL : updateSex(client,sex)
activate CTRL
CTRL -> STORE : updateSex(client,sex)
activate STORE
STORE -> CLIENT : setSex(sex)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
else attribute == phoneNumber
UI-> CTRL : updatePhoneNumber(client,phoneNumber)
activate CTRL
CTRL -> STORE : updatePhoneNumber(client,phoneNumber)
activate STORE
STORE -> CLIENT : setPhoneNumber(phoneNumber)
activate CLIENT
CLIENT - -> STORE : informs operation success
deactivate CLIENT
STORE - -> CTRL : informs operation success
deactivate STORE
CTRL - -> UI : show the operation success
deactivate CTRL
UI- ->CL : show the operation success
end alt
deactivate UI
deactivate CL
end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>