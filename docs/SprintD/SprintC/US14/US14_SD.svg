<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2086.5px" preserveAspectRatio="none" style="width:4305px;height:2086px;" version="1.1" viewBox="0 0 4305 2086" width="4305px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sj5n2pu4bqzj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.0" dy="6.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="1782.7617" style="stroke:#A80036;stroke-width:1.5;" width="15" x="84" y="149.4141"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="504.7734" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="182.9414"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="480.2461" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="733.2422"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45.5273" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="1259.0156"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="582.1055" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="1350.0703"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="389.1914" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1285.5" y="228.4688"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="389.1914" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1285.5" y="778.7695"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="491.0508" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1285.5" y="1395.5977"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1572" y="273.9961"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1734" y="364.5234"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1734" y="824.2969"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="117.082" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1885.5" y="455.0508"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2352.75" y="914.8242"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="389.4961" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2352.75" y="1441.125"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2360.25" y="1498.6523"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2360.25" y="1788.6211"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="117.082" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2919" y="1005.3516"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="4086.75" y="1678.5938"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="91.5" x2="91.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="694.5" x2="694.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1293" x2="1293" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1579.5" x2="1579.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1741.5" x2="1741.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1893" x2="1893" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2047.5" x2="2047.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2208" x2="2208" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2359.5" x2="2359.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2694" x2="2694" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2926.5" x2="2926.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="3183" x2="3183" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="3445.5" x2="3445.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="3679.5" x2="3679.5" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="3885" x2="3885" y1="134.4141" y2="1959.1758"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="4093.5" x2="4093.5" y1="1613.1094" y2="1959.1758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="159" x="7.5" y="129.7998">Specialist Doctor</text><ellipse cx="91.5" cy="22.5" fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" rx="12" ry="12" style="stroke:#A80036;stroke-width:3.0;"/><path d="M91.5,34.5 L91.5,75 M72,46.5 L111,46.5 M91.5,75 L72,97.5 M91.5,75 L111,97.5 " fill="none" filter="url(#f1sj5n2pu4bqzj)" style="stroke:#A80036;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="159" x="7.5" y="1979.4756">Specialist Doctor</text><ellipse cx="91.5" cy="1999.0898" fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" rx="12" ry="12" style="stroke:#A80036;stroke-width:3.0;"/><path d="M91.5,2011.0898 L91.5,2051.5898 M72,2023.0898 L111,2023.0898 M91.5,2051.5898 L72,2074.0898 M91.5,2051.5898 L111,2074.0898 " fill="none" filter="url(#f1sj5n2pu4bqzj)" style="stroke:#A80036;stroke-width:3.0;"/><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="237" x="573" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="216" x="583.5" y="111.7998">: WriteMedicalReportUI</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="237" x="573" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="216" x="583.5" y="1989.9756">: WriteMedicalReportUI</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="312" x="1134" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="291" x="1144.5" y="111.7998">: WriteMedicalReportController</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="312" x="1134" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="291" x="1144.5" y="1989.9756">: WriteMedicalReportController</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="123" x="1515" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="102" x="1525.5" y="111.7998">: Company</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="123" x="1515" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="102" x="1525.5" y="1989.9756">: Company</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="114" x="1681.5" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="91.5" x="1692.75" y="85.3857">testStore:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="93" x="1692" y="111.7998">TestStore</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="114" x="1681.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="91.5" x="1692.75" y="1989.9756">testStore:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="93" x="1692" y="2016.3896">TestStore</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="147" x="1816.5" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="126" x="1827" y="111.7998">: TestMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="147" x="1816.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="126" x="1827" y="1989.9756">: TestMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="120" x="1984.5" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="73.5" x="2004.75" y="85.3857">testList:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="99" x="1995" y="111.7998">List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="120" x="1984.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="73.5" x="2004.75" y="1989.9756">testList:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="99" x="1995" y="2016.3896">List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="159" x="2125.5" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="112.5" x="2148.75" y="85.3857">testListDto :</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="132" x="2136" y="111.7998">List&lt;TestDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="159" x="2125.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="112.5" x="2148.75" y="1989.9756">testListDto :</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="132" x="2136" y="2016.3896">List&lt;TestDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="103.5" x="2305.5" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="82.5" x="2316" y="111.7998">test:Test</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="103.5" x="2305.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="82.5" x="2316" y="1989.9756">test:Test</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="175.5" x="2604" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="154.5" x="2614.5" y="111.7998">testDto: TestDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="175.5" x="2604" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="154.5" x="2614.5" y="1989.9756">testDto: TestDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="246" x="2800.5" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="225" x="2811" y="111.7998">: TestParameterMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="246" x="2800.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="225" x="2811" y="1989.9756">: TestParameterMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="225" x="3067.5" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="183" x="3088.5" y="85.3857">testParametersList:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="198" x="3084" y="111.7998">List&lt;TestParameter&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="225" x="3067.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="183" x="3088.5" y="1989.9756">testParametersList:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="198" x="3084" y="2016.3896">List&lt;TestParameter&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="258" x="3313.5" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="216" x="3334.5" y="85.3857">testParametersListDto:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="231" x="3330" y="111.7998">List&lt;TestParameterDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="258" x="3313.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="216" x="3334.5" y="1989.9756">testParametersListDto:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="231" x="3330" y="2016.3896">List&lt;TestParameterDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="168" x="3592.5" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="24" x="3664.5" y="85.3857">tp:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="141" x="3609" y="111.7998">TestParameter</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="168" x="3592.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="24" x="3664.5" y="1989.9756">tp:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="141" x="3609" y="2016.3896">TestParameter</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="201" x="3781.5" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="36" x="3864" y="85.3857">dto:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="174" x="3798" y="111.7998">TestParameterDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="201" x="3781.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="36" x="3864" y="1989.9756">dto:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="174" x="3798" y="2016.3896">TestParameterDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="175.5" x="4003.5" y="1957.6758"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="148.5" x="4020" y="1989.9756">: MedicalReport</text><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="1782.7617" style="stroke:#A80036;stroke-width:1.5;" width="15" x="84" y="149.4141"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="504.7734" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="182.9414"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="480.2461" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="733.2422"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45.5273" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="1259.0156"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="582.1055" style="stroke:#A80036;stroke-width:1.5;" width="15" x="687" y="1350.0703"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="389.1914" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1285.5" y="228.4688"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="389.1914" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1285.5" y="778.7695"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="491.0508" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1285.5" y="1395.5977"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1572" y="273.9961"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1734" y="364.5234"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1734" y="824.2969"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="117.082" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1885.5" y="455.0508"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2352.75" y="914.8242"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="389.4961" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2352.75" y="1441.125"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2360.25" y="1498.6523"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2360.25" y="1788.6211"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="117.082" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2919" y="1005.3516"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="4086.75" y="1678.5938"/><polygon fill="#A80036" points="669,176.9414,684,182.9414,669,188.9414,675,182.9414" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="99" x2="678" y1="182.9414" y2="182.9414"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="109.5" y="175.6567">1</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="433.5" x="126" y="175.6567">Initiates the process of elaborate a medical report.</text><polygon fill="#A80036" points="1267.5,222.4688,1282.5,228.4688,1267.5,234.4688,1273.5,228.4688" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="702" x2="1276.5" y1="228.4688" y2="228.4688"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="712.5" y="221.1841">2</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="418.5" x="729" y="221.1841">testListDto = getTestHasSamplesAnalyzedList()</text><polygon fill="#A80036" points="1554,267.9961,1569,273.9961,1554,279.9961,1560,273.9961" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.5" x2="1563" y1="273.9961" y2="273.9961"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1311" y="266.7114">3</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="226.5" x="1327.5" y="266.7114">testStore = getTestStore()</text><polygon fill="#A80036" points="1716,358.5234,1731,364.5234,1716,370.5234,1722,364.5234" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.5" x2="1725" y1="364.5234" y2="364.5234"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1311" y="357.2388">4</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="388.5" x="1327.5" y="357.2388">testList = getTestHasSamplesAnalyzedList()</text><polygon fill="#A80036" points="1867.5,449.0508,1882.5,455.0508,1867.5,461.0508,1873.5,455.0508" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.5" x2="1876.5" y1="455.0508" y2="455.0508"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1311" y="447.7661">5</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="123" x="1327.5" y="447.7661">toDto(testList)</text><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="64.0547" style="stroke:#000000;stroke-width:3.0;" width="250.5" x="1812" y="467.0508"/><polygon fill="#EEEEEE" points="1812,467.0508,1905,467.0508,1905,479.0508,1890,494.0508,1812,494.0508,1812,467.0508" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="25.5" x="1831.5" y="490.2935">ref</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="238.5" x="1821" y="520.2935">SD_TestMapper_toDto_List</text><polygon fill="#A80036" points="1317,566.1328,1302,572.1328,1317,578.1328,1311,572.1328" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="1308" x2="1891.5" y1="572.1328" y2="572.1328"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1326" y="564.8481">6</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="94.5" x="1342.5" y="564.8481">testListDto</text><polygon fill="#A80036" points="718.5,611.6602,703.5,617.6602,718.5,623.6602,712.5,617.6602" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="709.5" x2="1291.5" y1="617.6602" y2="617.6602"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="727.5" y="610.3755">7</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="94.5" x="744" y="610.3755">testListDto</text><polygon fill="#A80036" points="115.5,681.7148,100.5,687.7148,115.5,693.7148,109.5,687.7148" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="106.5" x2="693" y1="687.7148" y2="687.7148"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="124.5" y="668.1665">8</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="339" x="141" y="655.9028">Shows the tests that are waiting for the</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="333" x="147" y="680.4302">medical report and asks to select one.</text><polygon fill="#A80036" points="669,727.2422,684,733.2422,669,739.2422,675,733.2422" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="99" x2="678" y1="733.2422" y2="733.2422"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="109.5" y="725.9575">9</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="202.5" x="126" y="725.9575">Select the desired test.</text><polygon fill="#A80036" points="1267.5,772.7695,1282.5,778.7695,1267.5,784.7695,1273.5,778.7695" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="702" x2="1276.5" y1="778.7695" y2="778.7695"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="712.5" y="771.4849">10</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="528" x="739.5" y="771.4849">testParametersListDto = getTestParameterList(selectedTest)</text><polygon fill="#A80036" points="1716,818.2969,1731,824.2969,1716,830.2969,1722,824.2969" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.5" x2="1725" y1="824.2969" y2="824.2969"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1311" y="817.0122">11</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="307.5" x="1338" y="817.0122">test = getTestByInternalCode(code)</text><polygon fill="#A80036" points="2334.75,908.8242,2349.75,914.8242,2334.75,920.8242,2340.75,914.8242" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.5" x2="2343.75" y1="914.8242" y2="914.8242"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1311" y="907.5396">12</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="381" x="1338" y="907.5396">testParametersList= getTestParameterList()</text><polygon fill="#A80036" points="2901,999.3516,2916,1005.3516,2901,1011.3516,2907,1005.3516" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.5" x2="2910" y1="1005.3516" y2="1005.3516"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1311" y="998.0669">13</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="232.5" x="1338" y="998.0669">toDTO(testParametersList)</text><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="64.0547" style="stroke:#000000;stroke-width:3.0;" width="340.5" x="2796" y="1017.3516"/><polygon fill="#EEEEEE" points="2796,1017.3516,2889,1017.3516,2889,1029.3516,2874,1044.3516,2796,1044.3516,2796,1017.3516" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="25.5" x="2815.5" y="1040.5942">ref</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="328.5" x="2805" y="1070.5942">SD_TestParameterMapper_toDto_List</text><polygon fill="#A80036" points="1317,1116.4336,1302,1122.4336,1317,1128.4336,1311,1122.4336" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="1308" x2="2925" y1="1122.4336" y2="1122.4336"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1326" y="1115.1489">14</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="195" x="1353" y="1115.1489">testParametersListDto</text><polygon fill="#A80036" points="718.5,1161.9609,703.5,1167.9609,718.5,1173.9609,712.5,1167.9609" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="709.5" x2="1291.5" y1="1167.9609" y2="1167.9609"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="727.5" y="1160.6763">15</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="195" x="754.5" y="1160.6763">testParametersListDto</text><polygon fill="#A80036" points="115.5,1207.4883,100.5,1213.4883,115.5,1219.4883,109.5,1213.4883" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="106.5" x2="693" y1="1213.4883" y2="1213.4883"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="124.5" y="1206.2036">16</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="525" x="151.5" y="1206.2036">Shows the parameter results and request the medical report.</text><polygon fill="#A80036" points="669,1253.0156,684,1259.0156,669,1265.0156,675,1259.0156" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="99" x2="678" y1="1259.0156" y2="1259.0156"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="109.5" y="1251.731">17</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="258" x="136.5" y="1251.731">Introduces the medical report.</text><polygon fill="#A80036" points="115.5,1298.543,100.5,1304.543,115.5,1310.543,109.5,1304.543" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="106.5" x2="693" y1="1304.543" y2="1304.543"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="124.5" y="1297.2583">18</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="387" x="151.5" y="1297.2583">Displays the data and requests confirmation.</text><polygon fill="#A80036" points="669,1344.0703,684,1350.0703,669,1356.0703,675,1350.0703" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="99" x2="678" y1="1350.0703" y2="1350.0703"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="109.5" y="1342.7856">19</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="159" x="136.5" y="1342.7856">Confirms the data.</text><polygon fill="#A80036" points="1267.5,1389.5977,1282.5,1395.5977,1267.5,1401.5977,1273.5,1395.5977" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="702" x2="1276.5" y1="1395.5977" y2="1395.5977"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="712.5" y="1388.313">20</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="250.5" x="739.5" y="1388.313">addMedicalReport(diagnosis)</text><polygon fill="#A80036" points="2334.75,1435.125,2349.75,1441.125,2334.75,1447.125,2340.75,1441.125" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1300.5" x2="2343.75" y1="1441.125" y2="1441.125"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1311" y="1433.8403">21</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="250.5" x="1338" y="1433.8403">addMedicalReport(diagnosis)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2375.25" x2="2438.25" y1="1486.6523" y2="1486.6523"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2438.25" x2="2438.25" y1="1486.6523" y2="1506.1523"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2376.75" x2="2438.25" y1="1506.1523" y2="1506.1523"/><polygon fill="#A80036" points="2391.75,1500.1523,2376.75,1506.1523,2391.75,1512.1523,2385.75,1506.1523" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2385.75" y="1479.3677">22</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="201" x="2412.75" y="1479.3677">validateMedicalReport()</text><polygon fill="#A80036" points="3985.5,1590.6797,4000.5,1596.6797,3985.5,1602.6797,3991.5,1596.6797" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="2367.75" x2="3994.5" y1="1596.6797" y2="1596.6797"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2378.25" y="1589.395">23</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="148.5" x="2405.25" y="1589.395">create(diagnosis)</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="175.5" x="4003.5" y="1563.1523"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="148.5" x="4020" y="1595.4521">: MedicalReport</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4101.75" x2="4164.75" y1="1666.5938" y2="1666.5938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4164.75" x2="4164.75" y1="1666.5938" y2="1686.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4103.25" x2="4164.75" y1="1686.0938" y2="1686.0938"/><polygon fill="#A80036" points="4118.25,1680.0938,4103.25,1686.0938,4118.25,1692.0938,4112.25,1686.0938" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="4112.25" y="1659.3091">24</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="156" x="4139.25" y="1659.3091">addCreationDate()</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2375.25" x2="2438.25" y1="1776.6211" y2="1776.6211"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2438.25" x2="2438.25" y1="1776.6211" y2="1796.1211"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2376.75" x2="2438.25" y1="1796.1211" y2="1796.1211"/><polygon fill="#A80036" points="2391.75,1790.1211,2376.75,1796.1211,2391.75,1802.1211,2385.75,1796.1211" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2385.75" y="1769.3364">25</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="271.5" x="2412.75" y="1769.3364">updateStateToDiagnosisMade()</text><polygon fill="#A80036" points="718.5,1880.6484,703.5,1886.6484,718.5,1892.6484,712.5,1886.6484" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="709.5" x2="1291.5" y1="1886.6484" y2="1886.6484"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="727.5" y="1879.3638">26</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="48" x="754.5" y="1879.3638">result</text><polygon fill="#A80036" points="108,1926.1758,93,1932.1758,108,1938.1758,102,1932.1758" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="99" x2="693" y1="1932.1758" y2="1932.1758"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="117" y="1924.8911">27</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="234" x="144" y="1924.8911">Informs operation success.</text><!--MD5=[e13af5549d96ee60f4a7b6d5038da08e]
@startuml
autonumber
'hide footbox
actor "Specialist Doctor" as Doctor

participant ": WriteMedicalReportUI" as UI
participant ": WriteMedicalReportController" as CTRL
participant ": Company" as Comp
participant "testStore:\nTestStore" as TS
participant ": TestMapper" as tMAPPER
participant "testList: \nList<Test>" as List
participant "testListDto :\nList<TestDto> " as TDto
participant "test:Test" as TEST
participant "testDto: TestDto" as TestDtoc
participant ": TestParameterMapper" as tpMAPPER
participant "testParametersList:\n List<TestParameter>" as lTP
participant "testParametersListDto:\n List<TestParameterDto>" as lTPDto
participant "tp:\n TestParameter" as TP
participant "dto:\n TestParameterDto" as TPDto
participant " : MedicalReport" as REPORT

activate Doctor
Doctor -> UI : Initiates the process of elaborate a medical report.
activate UI
UI -> CTRL : testListDto = getTestHasSamplesAnalyzedList()
activate CTRL
CTRL -> Comp : testStore = getTestStore()
activate Comp
deactivate Comp
CTRL -> TS : testList = getTestHasSamplesAnalyzedList()
activate TS
deactivate TS
CTRL -> tMAPPER : toDto(testList)
activate tMAPPER
ref over tMAPPER
SD_TestMapper_toDto_List
end ref
tMAPPER - -> CTRL : testListDto
deactivate tMAPPER
CTRL - -> UI : testListDto
deactivate CTRL
UI - -> Doctor : Shows the tests that are waiting for the \n medical report and asks to select one.
deactivate UI

Doctor -> UI :  Select the desired test.
activate UI
UI -> CTRL : testParametersListDto = getTestParameterList(selectedTest)
activate CTRL
CTRL -> TS : test = getTestByInternalCode(code)
activate TS
deactivate TS
CTRL -> TEST : testParametersList= getTestParameterList()
activate TEST
deactivate TEST
CTRL -> tpMAPPER : toDTO(testParametersList)
activate tpMAPPER
ref over tpMAPPER
SD_TestParameterMapper_toDto_List
end ref
tpMAPPER - -> CTRL : testParametersListDto
deactivate tpMAPPER
CTRL - -> UI : testParametersListDto
deactivate CTRL
UI - -> Doctor : Shows the parameter results and request the medical report.
deactivate UI

Doctor-> UI : Introduces the medical report.
activate UI

UI - -> Doctor : Displays the data and requests confirmation.
deactivate UI

Doctor-> UI : Confirms the data.
activate UI
UI -> CTRL: addMedicalReport(diagnosis)
activate CTRL
CTRL -> TEST : addMedicalReport(diagnosis)
activate TEST
TEST -> TEST : validateMedicalReport()
activate TEST
deactivate TEST
TEST - -> REPORT** : create(diagnosis)
REPORT -> REPORT : addCreationDate()
activate REPORT
deactivate REPORT
TEST -> TEST : updateStateToDiagnosisMade()
activate TEST
deactivate TEST
deactivate TEST
CTRL - -> UI : result
deactivate CTRL
UI - -> Doctor : Informs operation success.
deactivate UI

deactivate Doctor



@enduml

@startuml
autonumber
actor "Specialist Doctor" as Doctor

participant ": WriteMedicalReportUI" as UI
participant ": WriteMedicalReportController" as CTRL
participant ": Company" as Comp
participant "testStore:\nTestStore" as TS
participant ": TestMapper" as tMAPPER
participant "testList: \nList<Test>" as List
participant "testListDto :\nList<TestDto> " as TDto
participant "test:Test" as TEST
participant "testDto: TestDto" as TestDtoc
participant ": TestParameterMapper" as tpMAPPER
participant "testParametersList:\n List<TestParameter>" as lTP
participant "testParametersListDto:\n List<TestParameterDto>" as lTPDto
participant "tp:\n TestParameter" as TP
participant "dto:\n TestParameterDto" as TPDto
participant " : MedicalReport" as REPORT

activate Doctor
Doctor -> UI : Initiates the process of elaborate a medical report.
activate UI
UI -> CTRL : testListDto = getTestHasSamplesAnalyzedList()
activate CTRL
CTRL -> Comp : testStore = getTestStore()
activate Comp
deactivate Comp
CTRL -> TS : testList = getTestHasSamplesAnalyzedList()
activate TS
deactivate TS
CTRL -> tMAPPER : toDto(testList)
activate tMAPPER
ref over tMAPPER
SD_TestMapper_toDto_List
end ref
tMAPPER - -> CTRL : testListDto
deactivate tMAPPER
CTRL - -> UI : testListDto
deactivate CTRL
UI - -> Doctor : Shows the tests that are waiting for the \n medical report and asks to select one.
deactivate UI

Doctor -> UI :  Select the desired test.
activate UI
UI -> CTRL : testParametersListDto = getTestParameterList(selectedTest)
activate CTRL
CTRL -> TS : test = getTestByInternalCode(code)
activate TS
deactivate TS
CTRL -> TEST : testParametersList= getTestParameterList()
activate TEST
deactivate TEST
CTRL -> tpMAPPER : toDTO(testParametersList)
activate tpMAPPER
ref over tpMAPPER
SD_TestParameterMapper_toDto_List
end ref
tpMAPPER - -> CTRL : testParametersListDto
deactivate tpMAPPER
CTRL - -> UI : testParametersListDto
deactivate CTRL
UI - -> Doctor : Shows the parameter results and request the medical report.
deactivate UI

Doctor-> UI : Introduces the medical report.
activate UI

UI - -> Doctor : Displays the data and requests confirmation.
deactivate UI

Doctor-> UI : Confirms the data.
activate UI
UI -> CTRL: addMedicalReport(diagnosis)
activate CTRL
CTRL -> TEST : addMedicalReport(diagnosis)
activate TEST
TEST -> TEST : validateMedicalReport()
activate TEST
deactivate TEST
TEST - -> REPORT** : create(diagnosis)
REPORT -> REPORT : addCreationDate()
activate REPORT
deactivate REPORT
TEST -> TEST : updateStateToDiagnosisMade()
activate TEST
deactivate TEST
deactivate TEST
CTRL - -> UI : result
deactivate CTRL
UI - -> Doctor : Informs operation success.
deactivate UI

deactivate Doctor



@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>