@startuml
autonumber
'hide footbox
actor "Receptionist" as REP

participant ":RegisterClientUI" as UI
participant ":CreateTaskController" as CTRL
participant "ApplicationPOT" as _APP
participant "app\n:ApplicationPOT" as APP
participant "session\n:UserSession" as SESSAO
participant ":Platform" as PLAT
participant "org\n:Organization" as ORG
participant "task\n:Task" as TAREFA
participant "cat\n:Category" as CAT
participant "lc\n:List<Category>" as LIST_CAT

activate REP
REP -> UI : asks to register a client in the application
activate UI
UI --> REP : requests data (citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
deactivate UI

REP -> UI : types requested data
activate UI

UI -> CTRL : lc=getTaskCategories()
activate CTRL

CTRL -> PLAT : lc=getTaskCategories()
activate PLAT
|||
deactivate PLAT
deactivate CTRL

UI --> REP : shows all data and requests confirmation
deactivate PLAT
deactivate UI

REP -> UI : confirms the data
activate UI
UI -> CTRL : saveTask()
activate CTRL

CTRL -> ORG : saveTask(task)
activate ORG

ORG -> ORG: validateTask(task)
ORG -> ORG: addTask(task)

CTRL --> UI: result

UI --> REP : informs operation success
deactivate ORG
deactivate CTRL
deactivate UI

deactivate REP

@enduml