@startuml
autonumber
'hide footbox
actor "Receptionist" as REP

participant ":CreateClientUI" as UI
participant ":CreateClientController" as CTRL
participant ":Company" as COMP
participant "store: ClientStore" as CS
participant "cl: Client" as CL

activate REP
REP -> UI : asks to register a client in the application
activate UI
UI --> REP : requests data (citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
deactivate UI

REP -> UI : types requested data
activate UI

UI -> CTRL : createClient(citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
activate CTRL

CTRL -> COMP : store =getClientStore()
activate COMP
deactivate COMP

CTRL -> CS : cl=createClient(citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
activate CS

CS -> CL** : create(citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
deactivate CS
CTRL -> CS : validateClient(cl)
activate CS
deactivate CS
deactivate CTRL

UI --> REP : shows all data and requests confirmation
deactivate COMP
deactivate UI

REP -> UI : confirms the data
activate UI
UI -> CTRL : saveClient()
activate CTRL

CTRL -> CS : saveClient(cl)
activate CS

CS -> CS: validateClient(cl)
activate CS
deactivate CS
CS -> CS: addClient(cl)
activate CS
deactivate CS
deactivate CS

UI --> REP : informs operation success
deactivate COMP
deactivate CTRL
deactivate UI

deactivate REP

@enduml