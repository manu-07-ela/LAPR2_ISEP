@startuml
autonumber
'hide footbox
actor "Receptionist" as REP

participant ":CreateClientUI" as UI
participant ":CreateClientController" as CTRL
participant ":Company" as COMP
participant "pc: Client" as PC

activate REP
REP -> UI : asks to register a client in the application
activate UI
UI --> REP : requests data (citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
deactivate UI

REP -> UI : types requested data
activate UI

UI -> CTRL : createClient()
activate CTRL

CTRL -> COMP : cl=createClient(citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
activate COMP
|||

COMP -> PC** : cl=createClient(citizen card number, NHS number,\n birth date, sex, TIF, phone number, e-mail, name)
deactivate COMP
CTRL -> COMP : validateClient(cl)
activate COMP
deactivate COMP
deactivate CTRL

UI --> REP : shows all data and requests confirmation
deactivate COMP
deactivate UI

REP -> UI : confirms the data
activate UI
UI -> CTRL : saveClient()
activate CTRL

CTRL -> COMP : saveClient(cl)
activate COMP

COMP -> COMP: validateClient(pc)
activate COMP
deactivate COMP
COMP -> COMP: addClient(pc)
activate COMP
deactivate COMP
deactivate COMP

UI --> REP : informs operation success
deactivate COMP
deactivate CTRL
deactivate UI

deactivate REP

@enduml