<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="834.6px" preserveAspectRatio="none" style="width:1722px;height:834px;" version="1.1" viewBox="0 0 1722 834" width="1722px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sj5n2pu4bqzj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="713.1047" style="stroke:#A80036;stroke-width:0.6;" width="6" x="33.6" y="59.7656"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="201.9094" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="73.1766"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="192.0984" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="293.2969"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18.2109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="503.6063"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="232.8422" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="540.0281"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="155.6766" style="stroke:#A80036;stroke-width:0.6;" width="6" x="514.2" y="91.3875"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="155.6766" style="stroke:#A80036;stroke-width:0.6;" width="6" x="514.2" y="311.5078"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="196.4203" style="stroke:#A80036;stroke-width:0.6;" width="6" x="514.2" y="558.2391"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="628.8" y="109.5984"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="693.6" y="145.8094"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="693.6" y="329.7188"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="46.8328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="754.2" y="182.0203"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="941.1" y="365.9297"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="155.7984" style="stroke:#A80036;stroke-width:0.6;" width="6" x="941.1" y="576.45"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="16.8" style="stroke:#A80036;stroke-width:0.6;" width="6" x="944.1" y="599.4609"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="16.8" style="stroke:#A80036;stroke-width:0.6;" width="6" x="944.1" y="715.4484"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="46.8328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="1167.6" y="402.1406"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="16.8" style="stroke:#A80036;stroke-width:0.6;" width="6" x="1634.7" y="671.4375"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="36.6" x2="36.6" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="277.8" x2="277.8" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="517.2" x2="517.2" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="631.8" x2="631.8" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="696.6" x2="696.6" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="757.2" x2="757.2" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="819" x2="819" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="883.2" x2="883.2" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="943.8" x2="943.8" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1077.6" x2="1077.6" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1170.6" x2="1170.6" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1273.2" x2="1273.2" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1378.2" x2="1378.2" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1471.8" x2="1471.8" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1554" x2="1554" y1="53.7656" y2="783.6703"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1637.4" x2="1637.4" y1="645.2438" y2="783.6703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="63.6" x="3" y="51.9199">Specialist Doctor</text><ellipse cx="36.6" cy="9" fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M36.6,13.8 L36.6,30 M28.8,18.6 L44.4,18.6 M36.6,30 L28.8,39 M36.6,30 L44.4,39 " fill="none" filter="url(#f1sj5n2pu4bqzj)" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="63.6" x="3" y="791.7902">Specialist Doctor</text><ellipse cx="36.6" cy="799.6359" fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M36.6,804.4359 L36.6,820.6359 M28.8,809.2359 L44.4,809.2359 M36.6,820.6359 L28.8,829.6359 M36.6,820.6359 L44.4,829.6359 " fill="none" filter="url(#f1sj5n2pu4bqzj)" style="stroke:#A80036;stroke-width:1.2;"/><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="94.8" x="229.2" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="86.4" x="233.4" y="44.7199">: WriteMedicalReportUI</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="94.8" x="229.2" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="86.4" x="233.4" y="795.9902">: WriteMedicalReportUI</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="124.8" x="453.6" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="116.4" x="457.8" y="44.7199">: WriteMedicalReportController</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="124.8" x="453.6" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="116.4" x="457.8" y="795.9902">: WriteMedicalReportController</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="49.2" x="606" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="40.8" x="610.2" y="44.7199">: Company</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="49.2" x="606" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="40.8" x="610.2" y="795.9902">: Company</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="45.6" x="672.6" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="36.6" x="677.1" y="34.1543">testStore:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="37.2" x="676.8" y="44.7199">TestStore</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="45.6" x="672.6" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="36.6" x="677.1" y="795.9902">testStore:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="37.2" x="676.8" y="806.5559">TestStore</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="58.8" x="726.6" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="50.4" x="730.8" y="44.7199">: TestMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="58.8" x="726.6" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="50.4" x="730.8" y="795.9902">: TestMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="48" x="793.8" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="29.4" x="801.9" y="34.1543">testList:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="39.6" x="798" y="44.7199">List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="48" x="793.8" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="29.4" x="801.9" y="795.9902">testList:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="39.6" x="798" y="806.5559">List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="63.6" x="850.2" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="45" x="859.5" y="34.1543">testListDto :</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="52.8" x="854.4" y="44.7199">List&lt;TestDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="63.6" x="850.2" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="45" x="859.5" y="795.9902">testListDto :</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="52.8" x="854.4" y="806.5559">List&lt;TestDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="41.4" x="922.2" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="33" x="926.4" y="44.7199">test:Test</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="41.4" x="922.2" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="33" x="926.4" y="795.9902">test:Test</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="70.2" x="1041.6" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="61.8" x="1045.8" y="44.7199">testDto: TestDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="70.2" x="1041.6" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="61.8" x="1045.8" y="795.9902">testDto: TestDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="98.4" x="1120.2" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="90" x="1124.4" y="44.7199">: TestParameterMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="98.4" x="1120.2" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="90" x="1124.4" y="795.9902">: TestParameterMapper</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="90" x="1227" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.2" x="1235.4" y="34.1543">testParametersList:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="79.2" x="1233.6" y="44.7199">List&lt;TestParameter&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="90" x="1227" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.2" x="1235.4" y="795.9902">testParametersList:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="79.2" x="1233.6" y="806.5559">List&lt;TestParameter&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="103.2" x="1325.4" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="86.4" x="1333.8" y="34.1543">testParametersListDto:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="92.4" x="1332" y="44.7199">List&lt;TestParameterDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="103.2" x="1325.4" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="86.4" x="1333.8" y="795.9902">testParametersListDto:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="92.4" x="1332" y="806.5559">List&lt;TestParameterDto&gt;</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="67.2" x="1437" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="9.6" x="1465.8" y="34.1543">tp:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="1443.6" y="44.7199">TestParameter</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="67.2" x="1437" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="9.6" x="1465.8" y="795.9902">tp:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="56.4" x="1443.6" y="806.5559">TestParameter</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="80.4" x="1512.6" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="14.4" x="1545.6" y="34.1543">dto:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="69.6" x="1519.2" y="44.7199">TestParameterDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="80.4" x="1512.6" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="14.4" x="1545.6" y="795.9902">dto:</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="69.6" x="1519.2" y="806.5559">TestParameterDto</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="70.2" x="1601.4" y="783.0703"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="59.4" x="1608" y="795.9902">: MedicalReport</text><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="713.1047" style="stroke:#A80036;stroke-width:0.6;" width="6" x="33.6" y="59.7656"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="201.9094" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="73.1766"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="192.0984" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="293.2969"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18.2109" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="503.6063"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="232.8422" style="stroke:#A80036;stroke-width:0.6;" width="6" x="274.8" y="540.0281"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="155.6766" style="stroke:#A80036;stroke-width:0.6;" width="6" x="514.2" y="91.3875"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="155.6766" style="stroke:#A80036;stroke-width:0.6;" width="6" x="514.2" y="311.5078"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="196.4203" style="stroke:#A80036;stroke-width:0.6;" width="6" x="514.2" y="558.2391"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="628.8" y="109.5984"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="693.6" y="145.8094"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="693.6" y="329.7188"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="46.8328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="754.2" y="182.0203"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="18" style="stroke:#A80036;stroke-width:0.6;" width="6" x="941.1" y="365.9297"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="155.7984" style="stroke:#A80036;stroke-width:0.6;" width="6" x="941.1" y="576.45"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="16.8" style="stroke:#A80036;stroke-width:0.6;" width="6" x="944.1" y="599.4609"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="16.8" style="stroke:#A80036;stroke-width:0.6;" width="6" x="944.1" y="715.4484"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="46.8328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="1167.6" y="402.1406"/><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="16.8" style="stroke:#A80036;stroke-width:0.6;" width="6" x="1634.7" y="671.4375"/><polygon fill="#A80036" points="267.6,70.7766,273.6,73.1766,267.6,75.5766,270,73.1766" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="39.6" x2="271.2" y1="73.1766" y2="73.1766"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="43.8" y="70.2627">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="173.4" x="50.4" y="70.2627">Initiates the process of elaborate a medical report.</text><polygon fill="#A80036" points="507,88.9875,513,91.3875,507,93.7875,509.4,91.3875" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="280.8" x2="510.6" y1="91.3875" y2="91.3875"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="285" y="88.4736">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="167.4" x="291.6" y="88.4736">testListDto = getTestHasSamplesAnalyzedList()</text><polygon fill="#A80036" points="621.6,107.1984,627.6,109.5984,621.6,111.9984,624,109.5984" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="520.2" x2="625.2" y1="109.5984" y2="109.5984"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="524.4" y="106.6846">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="90.6" x="531" y="106.6846">testStore = getTestStore()</text><polygon fill="#A80036" points="686.4,143.4094,692.4,145.8094,686.4,148.2094,688.8,145.8094" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="520.2" x2="690" y1="145.8094" y2="145.8094"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="524.4" y="142.8955">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="155.4" x="531" y="142.8955">testList = getTestHasSamplesAnalyzedList()</text><polygon fill="#A80036" points="747,179.6203,753,182.0203,747,184.4203,749.4,182.0203" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="520.2" x2="750.6" y1="182.0203" y2="182.0203"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="524.4" y="179.1064">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="49.2" x="531" y="179.1064">toDto(testList)</text><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="25.6219" style="stroke:#000000;stroke-width:1.2;" width="100.2" x="724.8" y="186.8203"/><polygon fill="#EEEEEE" points="724.8,186.8203,762,186.8203,762,191.6203,756,197.6203,724.8,197.6203,724.8,186.8203" style="stroke:#000000;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="10.2" x="732.6" y="196.1174">ref</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="95.4" x="728.4" y="208.1174">SD_TestMapper_toDto_List</text><polygon fill="#A80036" points="526.8,226.4531,520.8,228.8531,526.8,231.2531,524.4,228.8531" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="523.2" x2="756.6" y1="228.8531" y2="228.8531"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="530.4" y="225.9393">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="37.8" x="537" y="225.9393">testListDto</text><polygon fill="#A80036" points="287.4,244.6641,281.4,247.0641,287.4,249.4641,285,247.0641" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="283.8" x2="516.6" y1="247.0641" y2="247.0641"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="291" y="244.1502">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="37.8" x="297.6" y="244.1502">testListDto</text><polygon fill="#A80036" points="46.2,272.6859,40.2,275.0859,46.2,277.4859,43.8,275.0859" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="42.6" x2="277.2" y1="275.0859" y2="275.0859"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="49.8" y="267.2666">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="135.6" x="56.4" y="262.3611">Shows the tests that are waiting for the</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="133.2" x="58.8" y="272.1721">medical report and asks to select one.</text><polygon fill="#A80036" points="267.6,290.8969,273.6,293.2969,267.6,295.6969,270,293.2969" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="39.6" x2="271.2" y1="293.2969" y2="293.2969"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="43.8" y="290.383">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="81" x="50.4" y="290.383">Select the desired test.</text><polygon fill="#A80036" points="507,309.1078,513,311.5078,507,313.9078,509.4,311.5078" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="280.8" x2="510.6" y1="311.5078" y2="311.5078"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="285" y="308.5939">10</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="211.2" x="295.8" y="308.5939">testParametersListDto = getTestParameterList(selectedTest)</text><polygon fill="#A80036" points="686.4,327.3187,692.4,329.7188,686.4,332.1188,688.8,329.7188" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="520.2" x2="690" y1="329.7188" y2="329.7188"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.4" y="326.8049">11</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="123" x="535.2" y="326.8049">test = getTestByInternalCode(code)</text><polygon fill="#A80036" points="933.9,363.5297,939.9,365.9297,933.9,368.3297,936.3,365.9297" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="520.2" x2="937.5" y1="365.9297" y2="365.9297"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.4" y="363.0158">12</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="152.4" x="535.2" y="363.0158">testParametersList= getTestParameterList()</text><polygon fill="#A80036" points="1160.4,399.7406,1166.4,402.1406,1160.4,404.5406,1162.8,402.1406" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="520.2" x2="1164" y1="402.1406" y2="402.1406"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.4" y="399.2268">13</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="93" x="535.2" y="399.2268">toDTO(testParametersList)</text><rect fill="#FFFFFF" filter="url(#f1sj5n2pu4bqzj)" height="25.6219" style="stroke:#000000;stroke-width:1.2;" width="136.2" x="1118.4" y="406.9406"/><polygon fill="#EEEEEE" points="1118.4,406.9406,1155.6,406.9406,1155.6,411.7406,1149.6,417.7406,1118.4,417.7406,1118.4,406.9406" style="stroke:#000000;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="10.2" x="1126.2" y="416.2377">ref</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="131.4" x="1122" y="428.2377">SD_TestParameterMapper_toDto_List</text><polygon fill="#A80036" points="526.8,446.5734,520.8,448.9734,526.8,451.3734,524.4,448.9734" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="523.2" x2="1170" y1="448.9734" y2="448.9734"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="530.4" y="446.0596">14</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="78" x="541.2" y="446.0596">testParametersListDto</text><polygon fill="#A80036" points="287.4,464.7844,281.4,467.1844,287.4,469.5844,285,467.1844" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="283.8" x2="516.6" y1="467.1844" y2="467.1844"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="291" y="464.2705">15</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="78" x="301.8" y="464.2705">testParametersListDto</text><polygon fill="#A80036" points="46.2,482.9953,40.2,485.3953,46.2,487.7953,43.8,485.3953" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="42.6" x2="277.2" y1="485.3953" y2="485.3953"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="49.8" y="482.4814">16</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="210" x="60.6" y="482.4814">Shows the parameter results and request the medical report.</text><polygon fill="#A80036" points="267.6,501.2062,273.6,503.6063,267.6,506.0062,270,503.6063" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="39.6" x2="271.2" y1="503.6063" y2="503.6063"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="43.8" y="500.6924">17</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="103.2" x="54.6" y="500.6924">Introduces the medical report.</text><polygon fill="#A80036" points="46.2,519.4172,40.2,521.8172,46.2,524.2172,43.8,521.8172" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="42.6" x2="277.2" y1="521.8172" y2="521.8172"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="49.8" y="518.9033">18</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="154.8" x="60.6" y="518.9033">Displays the data and requests confirmation.</text><polygon fill="#A80036" points="267.6,537.6281,273.6,540.0281,267.6,542.4281,270,540.0281" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="39.6" x2="271.2" y1="540.0281" y2="540.0281"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="43.8" y="537.1143">19</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="63.6" x="54.6" y="537.1143">Confirms the data.</text><polygon fill="#A80036" points="507,555.8391,513,558.2391,507,560.6391,509.4,558.2391" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="280.8" x2="510.6" y1="558.2391" y2="558.2391"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="285" y="555.3252">20</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="100.2" x="295.8" y="555.3252">addMedicalReport(diagnosis)</text><polygon fill="#A80036" points="933.9,574.05,939.9,576.45,933.9,578.85,936.3,576.45" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="520.2" x2="937.5" y1="576.45" y2="576.45"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.4" y="573.5361">21</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="100.2" x="535.2" y="573.5361">addMedicalReport(diagnosis)</text><line style="stroke:#A80036;stroke-width:0.6;" x1="950.1" x2="975.3" y1="594.6609" y2="594.6609"/><line style="stroke:#A80036;stroke-width:0.6;" x1="975.3" x2="975.3" y1="594.6609" y2="602.4609"/><line style="stroke:#A80036;stroke-width:0.6;" x1="950.7" x2="975.3" y1="602.4609" y2="602.4609"/><polygon fill="#A80036" points="956.7,600.0609,950.7,602.4609,956.7,604.8609,954.3,602.4609" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="954.3" y="591.7471">22</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="80.4" x="965.1" y="591.7471">validateMedicalReport()</text><polygon fill="#A80036" points="1594.2,636.2719,1600.2,638.6719,1594.2,641.0719,1596.6,638.6719" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="947.1" x2="1597.8" y1="638.6719" y2="638.6719"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="951.3" y="635.758">23</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="962.1" y="635.758">create(diagnosis)</text><rect fill="#FEFECE" filter="url(#f1sj5n2pu4bqzj)" height="18.9656" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="70.2" x="1601.4" y="625.2609"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="59.4" x="1608" y="638.1809">: MedicalReport</text><line style="stroke:#A80036;stroke-width:0.6;" x1="1640.7" x2="1665.9" y1="666.6375" y2="666.6375"/><line style="stroke:#A80036;stroke-width:0.6;" x1="1665.9" x2="1665.9" y1="666.6375" y2="674.4375"/><line style="stroke:#A80036;stroke-width:0.6;" x1="1641.3" x2="1665.9" y1="674.4375" y2="674.4375"/><polygon fill="#A80036" points="1647.3,672.0375,1641.3,674.4375,1647.3,676.8375,1644.9,674.4375" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="1644.9" y="663.7236">24</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="62.4" x="1655.7" y="663.7236">addCreationDate()</text><line style="stroke:#A80036;stroke-width:0.6;" x1="950.1" x2="975.3" y1="710.6484" y2="710.6484"/><line style="stroke:#A80036;stroke-width:0.6;" x1="975.3" x2="975.3" y1="710.6484" y2="718.4484"/><line style="stroke:#A80036;stroke-width:0.6;" x1="950.7" x2="975.3" y1="718.4484" y2="718.4484"/><polygon fill="#A80036" points="956.7,716.0484,950.7,718.4484,956.7,720.8484,954.3,718.4484" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="954.3" y="707.7346">25</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="108.6" x="965.1" y="707.7346">updateStateToDiagnosisMade()</text><polygon fill="#A80036" points="287.4,752.2594,281.4,754.6594,287.4,757.0594,285,754.6594" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="283.8" x2="516.6" y1="754.6594" y2="754.6594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="291" y="751.7455">26</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="19.2" x="301.8" y="751.7455">result</text><polygon fill="#A80036" points="43.2,770.4703,37.2,772.8703,43.2,775.2703,40.8,772.8703" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="39.6" x2="277.2" y1="772.8703" y2="772.8703"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="46.8" y="769.9564">27</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="93.6" x="57.6" y="769.9564">Informs operation success.</text><!--MD5=[e13af5549d96ee60f4a7b6d5038da08e]
@startuml
autonumber
'hide footbox
actor "Specialist Doctor" as Doctor

participant ": WriteMedicalReportUI" as UI
participant ": WriteMedicalReportController" as CTRL
participant ": Company" as Comp
participant "testStore:\nTestStore" as TS
participant ": TestMapper" as tMAPPER
participant "testList: \nList<Test>" as List
participant "testListDto :\nList<TestDto> " as TDto
participant "test:Test" as TEST
participant "testDto: TestDto" as TestDtoc
participant ": TestParameterMapper" as tpMAPPER
participant "testParametersList:\n List<TestParameter>" as lTP
participant "testParametersListDto:\n List<TestParameterDto>" as lTPDto
participant "tp:\n TestParameter" as TP
participant "dto:\n TestParameterDto" as TPDto
participant " : MedicalReport" as REPORT

activate Doctor
Doctor -> UI : Initiates the process of elaborate a medical report.
activate UI
UI -> CTRL : testListDto = getTestHasSamplesAnalyzedList()
activate CTRL
CTRL -> Comp : testStore = getTestStore()
activate Comp
deactivate Comp
CTRL -> TS : testList = getTestHasSamplesAnalyzedList()
activate TS
deactivate TS
CTRL -> tMAPPER : toDto(testList)
activate tMAPPER
ref over tMAPPER
SD_TestMapper_toDto_List
end ref
tMAPPER - -> CTRL : testListDto
deactivate tMAPPER
CTRL - -> UI : testListDto
deactivate CTRL
UI - -> Doctor : Shows the tests that are waiting for the \n medical report and asks to select one.
deactivate UI

Doctor -> UI :  Select the desired test.
activate UI
UI -> CTRL : testParametersListDto = getTestParameterList(selectedTest)
activate CTRL
CTRL -> TS : test = getTestByInternalCode(code)
activate TS
deactivate TS
CTRL -> TEST : testParametersList= getTestParameterList()
activate TEST
deactivate TEST
CTRL -> tpMAPPER : toDTO(testParametersList)
activate tpMAPPER
ref over tpMAPPER
SD_TestParameterMapper_toDto_List
end ref
tpMAPPER - -> CTRL : testParametersListDto
deactivate tpMAPPER
CTRL - -> UI : testParametersListDto
deactivate CTRL
UI - -> Doctor : Shows the parameter results and request the medical report.
deactivate UI

Doctor-> UI : Introduces the medical report.
activate UI

UI - -> Doctor : Displays the data and requests confirmation.
deactivate UI

Doctor-> UI : Confirms the data.
activate UI
UI -> CTRL: addMedicalReport(diagnosis)
activate CTRL
CTRL -> TEST : addMedicalReport(diagnosis)
activate TEST
TEST -> TEST : validateMedicalReport()
activate TEST
deactivate TEST
TEST - -> REPORT** : create(diagnosis)
REPORT -> REPORT : addCreationDate()
activate REPORT
deactivate REPORT
TEST -> TEST : updateStateToDiagnosisMade()
activate TEST
deactivate TEST
deactivate TEST
CTRL - -> UI : result
deactivate CTRL
UI - -> Doctor : Informs operation success.
deactivate UI

deactivate Doctor



@enduml

@startuml
autonumber
actor "Specialist Doctor" as Doctor

participant ": WriteMedicalReportUI" as UI
participant ": WriteMedicalReportController" as CTRL
participant ": Company" as Comp
participant "testStore:\nTestStore" as TS
participant ": TestMapper" as tMAPPER
participant "testList: \nList<Test>" as List
participant "testListDto :\nList<TestDto> " as TDto
participant "test:Test" as TEST
participant "testDto: TestDto" as TestDtoc
participant ": TestParameterMapper" as tpMAPPER
participant "testParametersList:\n List<TestParameter>" as lTP
participant "testParametersListDto:\n List<TestParameterDto>" as lTPDto
participant "tp:\n TestParameter" as TP
participant "dto:\n TestParameterDto" as TPDto
participant " : MedicalReport" as REPORT

activate Doctor
Doctor -> UI : Initiates the process of elaborate a medical report.
activate UI
UI -> CTRL : testListDto = getTestHasSamplesAnalyzedList()
activate CTRL
CTRL -> Comp : testStore = getTestStore()
activate Comp
deactivate Comp
CTRL -> TS : testList = getTestHasSamplesAnalyzedList()
activate TS
deactivate TS
CTRL -> tMAPPER : toDto(testList)
activate tMAPPER
ref over tMAPPER
SD_TestMapper_toDto_List
end ref
tMAPPER - -> CTRL : testListDto
deactivate tMAPPER
CTRL - -> UI : testListDto
deactivate CTRL
UI - -> Doctor : Shows the tests that are waiting for the \n medical report and asks to select one.
deactivate UI

Doctor -> UI :  Select the desired test.
activate UI
UI -> CTRL : testParametersListDto = getTestParameterList(selectedTest)
activate CTRL
CTRL -> TS : test = getTestByInternalCode(code)
activate TS
deactivate TS
CTRL -> TEST : testParametersList= getTestParameterList()
activate TEST
deactivate TEST
CTRL -> tpMAPPER : toDTO(testParametersList)
activate tpMAPPER
ref over tpMAPPER
SD_TestParameterMapper_toDto_List
end ref
tpMAPPER - -> CTRL : testParametersListDto
deactivate tpMAPPER
CTRL - -> UI : testParametersListDto
deactivate CTRL
UI - -> Doctor : Shows the parameter results and request the medical report.
deactivate UI

Doctor-> UI : Introduces the medical report.
activate UI

UI - -> Doctor : Displays the data and requests confirmation.
deactivate UI

Doctor-> UI : Confirms the data.
activate UI
UI -> CTRL: addMedicalReport(diagnosis)
activate CTRL
CTRL -> TEST : addMedicalReport(diagnosis)
activate TEST
TEST -> TEST : validateMedicalReport()
activate TEST
deactivate TEST
TEST - -> REPORT** : create(diagnosis)
REPORT -> REPORT : addCreationDate()
activate REPORT
deactivate REPORT
TEST -> TEST : updateStateToDiagnosisMade()
activate TEST
deactivate TEST
deactivate TEST
CTRL - -> UI : result
deactivate CTRL
UI - -> Doctor : Informs operation success.
deactivate UI

deactivate Doctor



@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>